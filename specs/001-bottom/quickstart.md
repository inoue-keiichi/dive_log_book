# Quickstart: ダイビング時間統計画面

## ユーザーストーリー検証手順

### 前提条件
- Flutterアプリが正常に起動している
- 既存のダイビングログデータが存在する（テスト用）

### シナリオ1: 底部ナビゲーションから統計画面へのアクセス

**Given**: ユーザーがアプリを開いている
**When**: 底部ナビゲーションの統計タブをタップする
**Then**: 統計画面が表示される

**検証手順**:
1. アプリを起動
2. 画面下部のナビゲーションバーを確認
3. "統計" タブ（アイコン付き）をタップ
4. 統計画面が表示されることを確認

**期待結果**:
- ナビゲーション遷移がスムーズ
- 統計画面のUIが正しく表示される

### シナリオ2: 総潜水時間の表示確認

**Given**: ユーザーが統計画面を開いている
**When**: 画面を確認する
**Then**: 総潜水時間が明確に表示される

**検証手順**:
1. 統計画面で総潜水時間の表示領域を確認
2. "XX時間XX分" 形式での表示を確認
3. データがない場合のメッセージ表示を確認

**期待結果**:
- 時間が読みやすい形式で表示される
- ゼロデータ時は適切なメッセージが表示される

### シナリオ3: 複数ダイビングログの合計計算

**Given**: ダイビングログが複数登録されている
**When**: 統計画面を表示する
**Then**: 全てのログの潜水時間の合計が計算されて表示される

**検証手順**:
1. 事前に複数のダイビングログを作成（時間データ付き）
2. 統計画面で表示される合計時間を確認
3. 手動計算結果と一致することを確認

**期待結果**:
- 全ダイビングログの時間が正確に合計される
- 無効データは計算から除外される

## テスト実行コマンド

### ウィジェットテスト
```bash
flutter test test/features/statistics/
```

### 統合テスト
```bash
flutter test integration_test/statistics_integration_test.dart
```

### リポジトリテスト
```bash
flutter test test/repositories/statistics_repository_test.dart
```

## デバッグ用データ準備

### テストデータ作成
```dart
// テスト用ダイビングログ作成例
final testDives = [
  DiveLog(
    date: DateTime.now().subtract(Duration(days: 1)),
    divingStartTime: "10:00",
    divingEndTime: "10:45",
    // ... 他フィールド
  ),
  DiveLog(
    date: DateTime.now().subtract(Duration(days: 2)),
    divingStartTime: "14:30",
    divingEndTime: "15:15",
    // ... 他フィールド
  ),
];
```

**期待される合計時間**: 1時間30分

## 手動テスト実行

### 基本フロー確認
1. `flutter run` でアプリ起動
2. 既存のダイビングログをいくつか作成
3. 底部ナビゲーションから統計画面へ遷移
4. 表示内容の確認

### エラーケース確認
1. データベースが空の状態での表示
2. 無効な時間データがある場合の動作
3. ナビゲーション遷移の確認

## 成功基準

- [ ] 底部ナビゲーションが正常に動作する
- [ ] 統計画面が適切に表示される
- [ ] 総潜水時間が正確に計算・表示される
- [ ] ゼロデータ時の適切なメッセージ表示
- [ ] UI/UXが既存アプリと一貫している
- [ ] パフォーマンスが要件を満たす（<100ms）